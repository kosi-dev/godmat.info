import{S as Z,i as x,s as ee,e as I,t as j,k as E,l as G,c as g,a as F,g as D,d as v,n as B,f as y,H,J as S,u as O,w as V,x as A,A as te,r as X,I as K,j as ne,m as ie,o as oe,v as le,h as M,K as ue,X as Y,Y as q}from"../../chunks/vendor-cc068a2e.js";import{a as R,b as fe,g as z,F as re}from"../../chunks/FoodUI-14a38ff8.js";import"../../chunks/singletons-12a22614.js";function L(r,e,n){const i=r.slice();return i[12]=e[n],i}function se(r){let e,n;return{c(){e=I("h2"),n=j("Undefined foodGroup!")},l(i){e=g(i,"H2",{});var u=F(e);n=D(u,"Undefined foodGroup!"),u.forEach(v)},m(i,u){y(i,e,u),H(e,n)},p:K,i:K,o:K,d(i){i&&v(e)}}}function ce(r){let e,n,i=(r[0]?"Save":"Edit")+"",u,l,o,a,f,s,m,k,T;function p(t,c){return t[0]?_e:ae}let b=p(r),h=b(r),w=r[2],_=[];for(let t=0;t<w.length;t+=1)_[t]=P(L(r,w,t));const $=t=>O(_[t],1,1,()=>{_[t]=null});return{c(){h.c(),e=E(),n=I("button"),u=j(i),l=E(),o=I("button"),a=j("Add Ingredient"),f=E();for(let t=0;t<_.length;t+=1)_[t].c();s=G()},l(t){h.l(t),e=B(t),n=g(t,"BUTTON",{});var c=F(n);u=D(c,i),c.forEach(v),l=B(t),o=g(t,"BUTTON",{});var d=F(o);a=D(d,"Add Ingredient"),d.forEach(v),f=B(t);for(let N=0;N<_.length;N+=1)_[N].l(t);s=G()},m(t,c){h.m(t,c),y(t,e,c),y(t,n,c),H(n,u),y(t,l,c),y(t,o,c),H(o,a),y(t,f,c);for(let d=0;d<_.length;d+=1)_[d].m(t,c);y(t,s,c),m=!0,k||(T=[S(n,"click",r[8]),S(o,"click",r[3])],k=!0)},p(t,c){if(b===(b=p(t))&&h?h.p(t,c):(h.d(1),h=b(t),h&&(h.c(),h.m(e.parentNode,e))),(!m||c&1)&&i!==(i=(t[0]?"Save":"Edit")+"")&&M(u,i),c&20){w=t[2];let d;for(d=0;d<w.length;d+=1){const N=L(t,w,d);_[d]?(_[d].p(N,c),A(_[d],1)):(_[d]=P(N),_[d].c(),A(_[d],1),_[d].m(s.parentNode,s))}for(X(),d=w.length;d<_.length;d+=1)$(d);V()}},i(t){if(!m){for(let c=0;c<w.length;c+=1)A(_[c]);m=!0}},o(t){_=_.filter(Boolean);for(let c=0;c<_.length;c+=1)O(_[c]);m=!1},d(t){h.d(t),t&&v(e),t&&v(n),t&&v(l),t&&v(o),t&&v(f),ue(_,t),t&&v(s),k=!1,Y(T)}}}function ae(r){let e,n=r[1].getName()+"",i,u,l,o=r[1].getDescription()+"",a;return{c(){e=I("h1"),i=j(n),u=E(),l=I("p"),a=j(o)},l(f){e=g(f,"H1",{});var s=F(e);i=D(s,n),s.forEach(v),u=B(f),l=g(f,"P",{});var m=F(l);a=D(m,o),m.forEach(v)},m(f,s){y(f,e,s),H(e,i),y(f,u,s),y(f,l,s),H(l,a)},p(f,s){s&2&&n!==(n=f[1].getName()+"")&&M(i,n),s&2&&o!==(o=f[1].getDescription()+"")&&M(a,o)},d(f){f&&v(e),f&&v(u),f&&v(l)}}}function _e(r){let e,n,i,u,l;return{c(){e=I("input"),n=E(),i=I("input")},l(o){e=g(o,"INPUT",{}),n=B(o),i=g(o,"INPUT",{})},m(o,a){y(o,e,a),q(e,r[1].name),y(o,n,a),y(o,i,a),q(i,r[1].description),u||(l=[S(e,"input",r[6]),S(i,"input",r[7])],u=!0)},p(o,a){a&2&&e.value!==o[1].name&&q(e,o[1].name),a&2&&i.value!==o[1].description&&q(i,o[1].description)},d(o){o&&v(e),o&&v(n),o&&v(i),u=!1,Y(l)}}}function P(r){let e,n,i,u,l,o;n=new re({props:{food:r[12]}});function a(){return r[9](r[12])}return{c(){e=I("div"),ne(n.$$.fragment),i=E()},l(f){e=g(f,"DIV",{});var s=F(e);ie(n.$$.fragment,s),i=B(s),s.forEach(v)},m(f,s){y(f,e,s),oe(n,e,null),H(e,i),u=!0,l||(o=S(e,"click",a),l=!0)},p(f,s){r=f;const m={};s&4&&(m.food=r[12]),n.$set(m)},i(f){u||(A(n.$$.fragment,f),u=!0)},o(f){O(n.$$.fragment,f),u=!1},d(f){f&&v(e),le(n),l=!1,o()}}}function de(r){let e,n,i,u,l,o,a,f,s;const m=[ce,se],k=[];function T(p,b){return p[1]?0:1}return u=T(r),l=k[u]=m[u](r),{c(){e=I("button"),n=j("Home"),i=E(),l.c(),o=G()},l(p){e=g(p,"BUTTON",{});var b=F(e);n=D(b,"Home"),b.forEach(v),i=B(p),l.l(p),o=G()},m(p,b){y(p,e,b),H(e,n),y(p,i,b),k[u].m(p,b),y(p,o,b),a=!0,f||(s=S(e,"click",r[5]),f=!0)},p(p,[b]){let h=u;u=T(p),u===h?k[u].p(p,b):(X(),O(k[h],1,1,()=>{k[h]=null}),V(),l=k[u],l?l.p(p,b):(l=k[u]=m[u](p),l.c()),A(l,1),l.m(o.parentNode,o))},i(p){a||(A(l),a=!0)},o(p){O(l),a=!1},d(p){p&&v(e),p&&v(i),k[u].d(p),p&&v(o),f=!1,s()}}}var pe=globalThis&&globalThis.__awaiter||function(r,e,n,i){function u(l){return l instanceof n?l:new n(function(o){o(l)})}return new(n||(n=Promise))(function(l,o){function a(m){try{s(i.next(m))}catch(k){o(k)}}function f(m){try{s(i.throw(m))}catch(k){o(k)}}function s(m){m.done?l(m.value):u(m.value).then(a,f)}s((i=i.apply(r,e||[])).next())})};let Q;function be({page:r,fetch:e,session:n,context:i}){return pe(this,void 0,void 0,function*(){return Q=r.params.slug,{props:{}}})}function me(r,e,n){var i=this&&this.__awaiter||function(h,w,_,$){function t(c){return c instanceof _?c:new _(function(d){d(c)})}return new(_||(_=Promise))(function(c,d){function N(U){try{C($.next(U))}catch(J){d(J)}}function W(U){try{C($.throw(U))}catch(J){d(J)}}function C(U){U.done?c(U.value):t(U.value).then(N,W)}C(($=$.apply(h,w||[])).next())})};let u=!1,l,o=[];te(()=>i(void 0,void 0,void 0,function*(){yield a()}));function a(){return i(this,void 0,void 0,function*(){n(1,l=yield R.get(Q)),n(2,o=yield l.getIngredients())})}function f(){return i(this,void 0,void 0,function*(){let h=new fe("Pear");yield l.addIngredient(h),yield R.register(h),yield R.register(l),yield a()})}function s(h){return i(this,void 0,void 0,function*(){z("/food/"+h.getId()).then(()=>i(this,void 0,void 0,function*(){a()}))})}const m=()=>z("../");function k(){l.name=this.value,n(1,l)}function T(){l.description=this.value,n(1,l)}return[u,l,o,f,s,m,k,T,()=>n(0,u=!u),h=>s(h)]}class ye extends Z{constructor(e){super();x(this,e,me,de,ee,{})}}export{ye as default,be as load};
